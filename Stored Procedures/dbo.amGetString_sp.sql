SET QUOTED_IDENTIFIER OFF
GO
SET ANSI_NULLS ON
GO

 
























































































































































































 
















































































































































































































































































































		




























































 



					 










































 



















































































































































































































































































CREATE PROCEDURE [dbo].[amGetString_sp]
(
 @str_id	 		smCounter,				
	@str_text	 	smStringText OUTPUT, 	
	@debug_level	smDebugLevel	= 0		
)
AS
 
DECLARE	
	@param		smErrorParam,
	@message	smErrorLongDesc

IF ( @debug_level > 1 ) SELECT CONVERT(char,getdate(),109) + "  " + "tmp/amgetstr.sp" + ", line " + STR( 62, 5 ) + " -- ENTRY: " 

SELECT	@str_text 	= str_text
FROM	amstrdef
WHERE 	str_id 		= @str_id
AND		str_seq_id	= 1

IF ( @str_text IS NULL )
BEGIN
	SELECT		@param = CONVERT(char(255), @str_id)

 EXEC	 	amGetErrorMessage_sp 20205, "tmp/amgetstr.sp", 73, @param, @error_message = @message OUTPUT 
 IF @message IS NOT NULL RAISERROR 	20205 @message 
	RETURN 		20205
END

IF ( @debug_level > 1 ) SELECT CONVERT(char,getdate(),109) + "  " + "tmp/amgetstr.sp" + ", line " + STR( 78, 5 ) + " -- EXIT: "

RETURN 0
GO
GRANT EXECUTE ON  [dbo].[amGetString_sp] TO [public]
GO
